<ion-header>
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-menu-toggle>
                <ion-button>
                    <ion-icon slot="icon-only" name="menu"></ion-icon>
                </ion-button>
            </ion-menu-toggle>
        </ion-buttons>
        <ion-title start>Find Nearest Sizes</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
    <ion-card>
        <ion-card-header>
            <ion-card-title color="primary" class="ion-text-center">Find Nearest Sizes</ion-card-title>
        </ion-card-header>

        <ion-card-content>
            <ion-grid>
                <ion-row>
                    <ion-col size="5">
                        <ion-item>
                            <ion-label position="stacked" class="font1">Length</ion-label>
                            <ion-input type="number" [(ngModel)]="length" inputmode="decimal" maxlength="10"></ion-input>
                        </ion-item>
                    </ion-col>
                    <ion-col size="2" class="vertical-center">
                        <ion-label color="primary" class="w100">X</ion-label>
                    </ion-col>
                    <ion-col size="5">
                        <ion-item>
                            <ion-label position="stacked" class="font1">Width</ion-label>
                            <ion-input type="number" [(ngModel)]="width" inputmode="decimal" maxlength="10"></ion-input>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <ion-row class="ion-align-items-center">
                    <ion-col size="12" class="ion-text-center">
                        <ion-button shape="round" (click)="search()">
                            <ion-icon slot="icon-only" name="search"></ion-icon>
                        </ion-button>
                    </ion-col>
                </ion-row>
            </ion-grid>

            <ng-container *ngIf="searchResult">
                <div class="ion-text-center" *ngIf="searchResult.length == 0">
                    <h3>Results Not Found</h3>
                </div>
                <ng-container *ngIf="searchResult.length > 0">
                    <div class="ion-text-center">
                        <h3>Result Searching size {{length}} X {{width}}</h3>
                    </div>

                    <ion-grid class="resultTable">
                        <ion-row>
                            <ion-col size="2" class="primaryBG ion-text-center" (click)="changeSort('quality')"> Quality
                                <ion-icon [name]="ascSort ? 'arrow-down' : 'arrow-up'" *ngIf="sortCol == 'quality'"></ion-icon>
                            </ion-col>
                            <ion-col size="1" class="primaryBG ion-text-center" (click)="changeSort('gsm')"> GSM
                                <ion-icon [name]="ascSort ? 'arrow-down' : 'arrow-up'" *ngIf="sortCol == 'gsm'"></ion-icon>
                            </ion-col>
                            <ion-col size="2" class="primaryBG ion-text-center" (click)="changeSort('Size_INCH')"> Size Inch
                                <ion-icon [name]="ascSort ? 'arrow-down' : 'arrow-up'" *ngIf="sortCol == 'Size_INCH'"></ion-icon>
                            </ion-col>
                            <ion-col size="1" class="primaryBG ion-text-center" (click)="changeSort('total_ups')"> Total No. of UPS
                                <ion-icon [name]="ascSort ? 'arrow-down' : 'arrow-up'" *ngIf="sortCol == 'total_ups'"></ion-icon>
                            </ion-col>
                            <ion-col size="2" class="primaryBG ion-text-center" (click)="changeSort('utiliz')"> Utilization
                                <ion-icon [name]="ascSort ? 'arrow-down' : 'arrow-up'" *ngIf="sortCol == 'utiliz'"></ion-icon>
                            </ion-col>
                            <ion-col size="2" class="primaryBG ion-text-center" (click)="changeSort('sheet_weight')"> 100 Sheet weight
                                <ion-icon [name]="ascSort ? 'arrow-down' : 'arrow-up'" *ngIf="sortCol == 'sheet_weight'"></ion-icon>
                            </ion-col>
                            <ion-col size="2" class="primaryBG ion-text-center" (click)="changeSort('bundle')"> Per Bundle No. of sheet
                                <ion-icon [name]="ascSort ? 'arrow-down' : 'arrow-up'" *ngIf="sortCol == 'bundle'"></ion-icon>
                            </ion-col>
                        </ion-row>
                        <ion-row *ngFor="let res of searchResult">
                            <ion-col size="2" class="ion-text-center"> {{res.quality}} </ion-col>
                            <ion-col size="1" class="ion-text-center"> {{res.gsm}} </ion-col>
                            <ion-col size="2" class="ion-text-center"> {{res.Size_INCH}} </ion-col>
                            <ion-col size="1" class="ion-text-center"> {{res.total_ups}} </ion-col>
                            <ion-col size="2" class="ion-text-center"> {{res.utiliz}}% </ion-col>
                            <ion-col size="2" class="ion-text-center"> {{res.sheet_weight}} </ion-col>
                            <ion-col size="2" class="ion-text-center"> {{res.bundle}} </ion-col>
                        </ion-row>
                    </ion-grid>

                    <ion-grid>
                        <ion-row class="ion-align-items-center">
                            <ion-col size="12" class="ion-text-center">
                                <ion-button shape="round" (click)="search()">
                                    <ion-icon name="search"></ion-icon>&nbsp;&nbsp;Reverse Grain
                                </ion-button>
                            </ion-col>
                        </ion-row>
                    </ion-grid>

                </ng-container>
            </ng-container>

        </ion-card-content>
    </ion-card>
</ion-content>